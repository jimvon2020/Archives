<!DOCTYPE HTML>
<html>
 <head>
  <meta charset="utf-8"/>
  <title>
   Made with Remarkable!
  </title>
  <link href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/github.min.css" rel="stylesheet"/>
  <style type="text/css">
   body,table tr{background-color:#fff}table tr td,table tr th{border:1px solid #ccc;text-align:left;padding:6px 13px;margin:0}pre code,table,table tr{padding:0}hr,pre code{background:0 0}body{font:16px Helvetica,Arial,sans-serif;line-height:1.4;color:#333;word-wrap:break-word;padding:10px 15px}strong,table tr th{font-weight:700}h1{font-size:2em;margin:.67em 0;text-align:center}h2{font-size:1.75em}h3{font-size:1.5em}h4{font-size:1.25em}h1,h2,h3,h4,h5,h6{font-weight:700;position:relative;margin-top:15px;margin-bottom:15px;line-height:1.1}h1,h2{border-bottom:1px solid #eee}hr{height:0;margin:15px 0;overflow:hidden;border:0;border-bottom:1px solid #ddd}a{color:#4183C4}a.absent{color:#c00}ol,ul{padding-left:15px;margin-left:5px}ol{list-style-type:lower-roman}table tr{border-top:1px solid #ccc;margin:0}table tr:nth-child(2n){background-color:#aaa}table tr td :first-child,table tr th :first-child{margin-top:0}table tr td:last-child,table tr th :last-child{margin-bottom:0}img{max-width:100%}blockquote{padding:0 15px;border-left:4px solid #ccc}code,tt{margin:0 2px;padding:0 5px;white-space:nowrap;border:1px solid #eaeaea;background-color:#f8f8f8;border-radius:3px}pre code{margin:0;white-space:pre;border:none}.highlight pre,pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}
  </style>
 </head>
 <body>
  <h1 id="v5-sdk">
   V5 SDK
  </h1>
  <h2 id="1-webviewsdk">
   1. WebViewSDK介绍
  </h2>
  <h3 id="11">
   1.1 总体介绍
  </h3>
  <p>
   WebView是android系统上最强大和最复杂的控件，大多数应用程序涉及到Web相关的处理和显示时，都会用WebView。相对于系统WebView大量的兼容性问题以及不可维护性，V5内核具有相当多的优势：
  </p>
  <ul>
   <li>
    不依赖系统版本。提供一致性的上网体验，优秀的兼容性。
   </li>
   <li>
    内核性能的提升。联网更快速稳定、标准支持更完善、渲染更流畅、崩溃率更低、内存占用更小等。
   </li>
   <li>
    更强大的特色功能，可以提供体验更友好的多媒体交互界面、更强大的多媒体格式支持；更优秀的联网体验如省流加速、防劫持等；更多的个性化扩展功能如广告过滤、夜间模式、自由复制等。
   </li>
   <li>
    可维护性强。相比较系统WebView的升级依赖于系统版本的升级、v5内核具备快速迭代、线上可配置的优势。
   </li>
  </ul>
  <p>
   因此，第三方应用通过WebViewSDK来使用v5内核，可以很大的提升该应用的Web访问体验，行业内此类成功的例子也是比比皆是，如微信使用QQ浏览器团队提供的X5内核、手淘和支付宝使用UC的U4内核等等。
  </p>
  <h3 id="12">
   1.2 特色功能介绍
  </h3>
  <p>
   相比较系统内核，V5内核提供了强大的扩展功能，接入方可以选择开启或关闭相关功能。
  </p>
  <ul>
   <li>
    <p>
     云端代理服务
     <br/>
     v5内核通过代理接入多家云端服务，可以提供网页加载省流、加速、防劫持等功能。
    </p>
   </li>
   <li>
    <p>
     广告过滤
     <br/>
     v5内核拥有强大的广告过滤功能，可以快速高效的拦截网页上的各种广告。
    </p>
   </li>
   <li>
    <p>
     自由复制优化
     <br/>
     v5内核在系统内核基础上优化了自由复制功能，提供更优秀的体验。
    </p>
   </li>
   <li>
    <p>
     主题模式
     <br/>
     v5内核支持夜间模式，后续还将支持各种网页背景色替换。
    </p>
   </li>
   <li>
    <p>
     强制缩放
     <br/>
     v5内核支持双指强制缩放页面功能，提高网页阅读体验。
    </p>
   </li>
   <li>
    <p>
     密码自动填充
     <br/>
     v5内核支持密码自动填充，避免用户不断输入密码的麻烦。
    </p>
   </li>
   <li>
    <p>
     无图模式
     <br/>
     v5内核支持无图模式，移动网络下节省用户流量。
    </p>
   </li>
   <li>
    <p>
     快速滚动
     <br/>
     v5内核支持快速滚动滑块，用户可以通过拖动滑块快速滚动页面。
    </p>
   </li>
   <li>
    <p>
     多媒体功能扩展
     <br/>
     除支持基本的多媒体功能外，v5内核还支持可定制化，接入方可以根据自身需求定制播放界面和相关功能。
    </p>
   </li>
   <li>
    <p>
     ExoPlayer播放器
     <br/>
     v5内核使用ExoPlayer播放器处理多媒体播放，相比较系统MediaPlayer播放器速度更快、稳定性更好。
    </p>
   </li>
  </ul>
  <h2 id="2-webviewsdk">
   2. WebViewSDK接入
  </h2>
  <h3 id="21">
   2.1 系统要求
  </h3>
  <ul>
   <li>
    <p>
     手机ROM版本高于或等于6.0版本。如果不满足条件，WebViewSDK会自动将v5内核切换为系统内核。
    </p>
   </li>
   <li>
    <p>
     手机剩余存储空间超过20M。SDK提供的Jar包压缩前为230k，内核更新后，首次动态加载生成的dex优化文件大小不超过8M。
    </p>
   </li>
  </ul>
  <h3 id="22">
   2.2 接入步骤
  </h3>
  <h4 id="221">
   2.2.1 编译方式
  </h4>
  <p>
   WebViewSDK提供v5_sdk.jar供接入方继承，接入方将jar包放到工程的libs目录中一起编译即可。
  </p>
  <h4 id="222">
   2.2.2 加载内核
  </h4>
  <p>
   <font color="red">
    使用内核方法之前必须先加载内核。
   </font>
  </p>
  <p>
   V5Loader类提供v5内核加载的方法，使用V5Loader前，请按以下方法引入V5Loader类。
  </p>
  <pre><code class="java">import com.vivo.v5.webkit.V5Loader;
</code></pre>
  <ul>
   <li>
    V5Loader提供两种load方法供接入方动态加载v5内核，两种方法都是同步的。
   </li>
  </ul>
  <pre><code class="java">// 加载V5内核。返回值表示加载是否成功，该方法可能触发联网操作。
public static boolean loadV5(Context context);

/*
 * 加载V5内核。返回值表示加载是否成功，该方法可能触发联网操作。
 */
public static boolean loadV5(Context context, CoreType type, LoadType loadType);
</code></pre>
  <ul>
   <li>
    CoreType参数表示加载内核的类型，V5表示加载v5内核，SYSTEM表示加载系统内核。默认使用V5。
   </li>
  </ul>
  <pre><code class="java">public enum CoreType {
    V5,
    SYSTEM,
}
</code></pre>
  <ul>
   <li>
    LoadType参数表示加载内核的方式，PLUGIN表示动态加载方式，COMPILED表示编译方式。默认使用PLUGIN。
   </li>
  </ul>
  <pre><code class="java">public enum LoadType {
    PLUGIN,
    COMPILED,
}
</code></pre>
  <ul>
   <li>
    V5Loader提供hasV5Loaded方法供接入方确认是否已经成功加载v5内核，此方法在load方法之后调用才是准确的。
   </li>
  </ul>
  <pre><code class="java">public static boolean hasV5Loaded();
</code></pre>
  <ul>
   <li>
    V5Loader提供getVersion方法获取系统中的内核版本号，在使用V5扩展方法时可以通过内核版本号来判断方法的可用性，此方法在load方法之后调用才是准确的。
   </li>
  </ul>
  <pre><code class="java">public static int getVersion();
</code></pre>
  <ul>
   <li>
    V5Loader提供isEnable方法获取某个扩展方法是否可用，此方法在load方法之后调用才是准确的。
   </li>
  </ul>
  <pre><code class="java">// function参数为“类名.方法名”格式，如想判断WebViewEx中saveImage方法是否可用，则参数传入应该为“WebViewEx.saveImage”。
public static int isEnable(String function);
</code></pre>
  <ul>
   <li>
    V5Loader提供getErrorCode方法获取错误码，当接入方无法使用v5内核时，SDK会分析具体错误原因，主要用于埋点上报，此方法在load方法之后调用才是准确的。
   </li>
  </ul>
  <pre><code class="java">public static int getErrorCode();
</code></pre>
  <p>
   <br/>
  </p>
  <h4 id="223">
   2.2.3 使用内核
  </h4>
  <ul>
   <li>
    <p>
     v5内核提供两套方法供接入方使用，分别为标准方法和扩展方法。
    </p>
   </li>
   <li>
    <p>
     标准方法。这部分方法与标准WebView的方法在参数和表现上一致，使用时可以直接替换掉对应的系统WebView方法，这些类如下：
    </p>
   </li>
  </ul>
  <table>
   <thead>
    <tr>
     <th>
      v5内核类名
     </th>
     <th>
      系统内核类名
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      com.vivo.v5.webkit.ClientCertRequest
     </td>
     <td>
      android.webkit.ClientCertRequest
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.ConsoleMessage
     </td>
     <td>
      android.webkit.ConsoleMessage
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.CookieManager
     </td>
     <td>
      android.webkit.CookieManager
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.CookieSyncManager
     </td>
     <td>
      android.webkit.CookieSyncManager
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.DebugFlags
     </td>
     <td>
      android.webkit.DebugFlags
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.DownloadListener
     </td>
     <td>
      android.webkit.DownloadListener
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.GeolocationPermissions
     </td>
     <td>
      android.webkit.GeolocationPermissions
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.HttpAuthHandler
     </td>
     <td>
      android.webkit.HttpAuthHandler
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.JavascriptInterface
     </td>
     <td>
      android.webkit.JavascriptInterface
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.JsPromptResult
     </td>
     <td>
      android.webkit.JsPromptResult
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.JsResult
     </td>
     <td>
      android.webkit.JsResult
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.MimeTypeMap
     </td>
     <td>
      android.webkit.MimeTypeMap
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.PermissionRequest
     </td>
     <td>
      android.webkit.PermissionRequest
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.SslErrorHandler
     </td>
     <td>
      android.webkit.SslErrorHandler
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.URLUtil
     </td>
     <td>
      android.webkit.URLUtil
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.ValueCallback
     </td>
     <td>
      android.webkit.ValueCallback
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebBackForwardList
     </td>
     <td>
      android.webkit.WebBackForwardList
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebChromeClient
     </td>
     <td>
      android.webkit.WebChromeClient
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebHistoryItem
     </td>
     <td>
      android.webkit.WebHistoryItem
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebIconDatabase
     </td>
     <td>
      android.webkit.WebIconDatabase
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebResourceRequest
     </td>
     <td>
      android.webkit.WebResourceRequest
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebResourceResponse
     </td>
     <td>
      android.webkit.WebResourceResponse
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebSettings
     </td>
     <td>
      android.webkit.WebSettings
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebStorage
     </td>
     <td>
      android.webkit.WebStorage
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebView
     </td>
     <td>
      android.webkit.WebView
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebViewClient
     </td>
     <td>
      android.webkit.WebViewClient
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.webkit.WebViewDatabase
     </td>
     <td>
      android.webkit.WebViewDatabase
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   <br/>
  </p>
  <ul>
   <li>
    标准延用。
    <br/>
    这部分标准v5内核没有进行覆盖，延用系统WebView的标准，对V5内核，系统内核都会生效，具体沿延用的类如下：
   </li>
  </ul>
  <table>
   <thead>
    <tr>
     <th>
      类名
     </th>
     <th>
      说明
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      android.webkit.JavascriptInterface
     </td>
     <td>
      JS调用的Java端的方法需要添加此注解
     </td>
    </tr>
   </tbody>
  </table>
  <p>
   <br/>
  </p>
  <ul>
   <li>
    扩展方法。
    <br/>
    这部分方法是v5内核的特色功能，通过这些方法可以开启省流加速、夜间模式等功能，这部分类必须在启动v5内核的情况下才能正常使用, 同时部分方法有版本要求。
   </li>
  </ul>
  <table>
   <thead>
    <tr>
     <th>
      v5内核类名
     </th>
     <th>
      类功能介绍
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      com.vivo.v5.extension.AdBlockManager
     </td>
     <td>
      广告过滤功能
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.CommonExtension
     </td>
     <td>
      内核信息获取
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.CoreReportClient
     </td>
     <td>
      供接入方实现的埋点接口
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.ExtensionClient
     </td>
     <td>
      内核回调接口
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.GlobalSettingKeys
     </td>
     <td>
      内核公共设置项定义
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.GlobalSettings
     </td>
     <td>
      内核公共设置项管理
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.ParamSetting
     </td>
     <td>
      内核埋点相关设置功能
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.ReportConstants
     </td>
     <td>
      内核埋点相关设置功能
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.ReportSetting
     </td>
     <td>
      内核埋点相关设置功能
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.WebSettingsEx
     </td>
     <td>
      内核扩展设置项
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.WebVideoView
     </td>
     <td>
      内核多媒体控制
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.WebVideoViewClient
     </td>
     <td>
      内核多媒体回调
     </td>
    </tr>
    <tr>
     <td>
      com.vivo.v5.extension.WebViewEx
     </td>
     <td>
      内核WebView扩展功能
     </td>
    </tr>
   </tbody>
  </table>
  <h4 id="224">
   2.2.4 注意事项
  </h4>
  <h5 id="_1">
   关于混淆
  </h5>
  <p>
   请不要混淆SDK相关的类信息，
   <font color="red">
    <strong _="*;">
     -keep class com.vivo.v5.
    </strong>
   </font>
  </p>
  <h5 id="_2">
   联网限制
  </h5>
  <p>
   v5内核的加载方法loadV5有可能会触发联网操作（同步服务端配置文件，文件大小约25k，但该方法限定为每天仅同步一次）。因此在有联网限制的方法中，请不要使用该方法。
  </p>
  <h5 id="_3">
   线程安全性
  </h5>
  <p>
   v5内核的加载是非线程安全的，即V5Loader的load方法不允许同时在多个线程被调用，并且不要一次应用生命周期内被调用多次。
   <br/>
   v5内核WebView的初始化也是非线程安全的，即必须在UI线程内进行new WebView的操作。同时，内核的部分其他对象和成员方法也有这样的规定，具体内容请详见“v5内核接口使用”。
  </p>
  <h5 id="_4">
   异常处理
  </h5>
  <p>
   WebViewSDK提供了异常保护机制，如果v5内核在加载的过程中出现异常导致无法加载成功，WebViewSDK会智能切换为系统内核，以保证接入方可以正常使用标准内核功能。
  </p>
  <h5 id="v5">
   判断V5内核是否加载成功
  </h5>
  <p>
   接入方可以通过以下方法来确定当前正在使用的内核类型：
  </p>
  <pre><code class="java">import com.vivo.v5.webkit.V5Loader;

//v5内核加载成功后返回true，返回false说明加载失败使用系统内核。注意，该方法需要在load方法的结果返回后使用才是准确的。
public static boolean hasLoaded();
</code></pre>
  <h5 id="_5">
   埋点扩展
  </h5>
  <p>
   WebViewSDK提供了埋点上报功能，分为两个模块：
  </p>
  <ul>
   <li>
    内核基础性能数据埋点上报和业务扩展数据埋点上报。
   </li>
  </ul>
  <p>
   默认情况下，内核将会自动上报内核基础性能数据埋点；而业务扩展数据埋点将会通过SDK的onNextReport接口回调给接入方。
   <br/>
   如果接入方也想获取内核基础性能数据埋点,或基于内核基础性能数据埋点进行定制处理，则程序启动时需要先执行以下代码：
  </p>
  <pre><code class="java">WebkitReportSetting.getInstance().setShouldCoreReport(true);
// 注：由于外销版本存在各国家数据隐私问题，所有内核基础性能数据埋点回调给接入方进行统一定制。
</code></pre>
  <ul>
   <li>
    获取埋点数据（内核基础性能数据和业务扩展数据埋点）的使用方法举例：
   </li>
  </ul>
  <pre><code class="java">import com.vivo.v5.extension.ReportSetting；

WebkitReportSetting.getInstance().setCoreReportClient(new CoreReportClient() {
@Override
public void onNextReport(final Map&lt;String, String&gt; reportDataMap) { 
    // to do
    }
});
</code></pre>
  <p>
   如果不想再接收埋点数据，可以直接将传入的CoreReportClient置为null关闭数据传输。
  </p>
  <pre><code class="java">WebkitReportSetting.getInstance().setCoreReportClient(null);
</code></pre>
  <h5 id="_6">
   系统内核方法回调
  </h5>
  <p>
   WebView SDK 提供了两种拦截系统方法回调的方式
   <br/>
   - 继承覆盖重写
   <br/>
   接入方在重写WebView的View方法时，标准的系统生命周期方法是无法复写并且即使复写也是无效的；需要重写带
   <font color="red">
    Compat后缀
   </font>
   的对应方法，而原来的方法无效。
  </p>
  <p>
   举例：
  </p>
  <pre><code class="java">// 重写onScrollChanged方法

class TestWebView extends WebView{

    @override
    public void onScrollChangedCompat(int l, int t, int oldl, int oldt) {
            super.onScrollChangedCompat(l, t, oldl, oldt);
    }
}
</code></pre>
  <ul>
   <li>
    添加拦截器
   </li>
  </ul>
  <p>
   举例：
  </p>
  <pre><code class="java">// 拦截并重写onScrollChanged方法

webview.getWebViewApi().setInterceptor(new InterceptorAdapter(){
    @override
public void onScrollChanged(int l, int t, int oldl, int oldt) {
    super.onScrollChanged(l, t, oldl, oldt);
}
});
</code></pre>
  <p>
   具体涉及到的回调方法请参照下面的表格：
  </p>
  <table>
   <thead>
    <tr>
     <th>
      系统方法
     </th>
     <th>
      SDK WebView 方法
     </th>
     <th>
      SDK 拦截器方法
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      onAttachedToWindow
     </td>
     <td>
      onAttachedToWindowCompat
     </td>
     <td>
      onAttachedToWindow
     </td>
    </tr>
    <tr>
     <td>
      onDetachedFromWindow
     </td>
     <td>
      onDetachedFromWindowCompat
     </td>
     <td>
      onDetachedFromWindow
     </td>
    </tr>
    <tr>
     <td>
      computeScroll
     </td>
     <td>
      computeScrollCompat
     </td>
     <td>
      computeScroll
     </td>
    </tr>
    <tr>
     <td>
      onHoverEvent
     </td>
     <td>
      onHoverEventCompat
     </td>
     <td>
      onHoverEvent
     </td>
    </tr>
    <tr>
     <td>
      onTouchEvent
     </td>
     <td>
      onTouchEventCompat
     </td>
     <td>
      onTouchEvent
     </td>
    </tr>
    <tr>
     <td>
      onGenericMotionEvent
     </td>
     <td>
      onGenericMotionEventCompat
     </td>
     <td>
      onGenericMotionEvent
     </td>
    </tr>
    <tr>
     <td>
      onTrackballEvent
     </td>
     <td>
      onTrackballEventCompat
     </td>
     <td>
      onTrackballEvent
     </td>
    </tr>
    <tr>
     <td>
      onKeyDown
     </td>
     <td>
      onKeyDownCompat
     </td>
     <td>
      onKeyDown
     </td>
    </tr>
    <tr>
     <td>
      onKeyUp
     </td>
     <td>
      onKeyUpCompat
     </td>
     <td>
      onKeyUp
     </td>
    </tr>
    <tr>
     <td>
      onKeyMultiple
     </td>
     <td>
      onKeyMultipleCompat
     </td>
     <td>
      onKeyMultiple
     </td>
    </tr>
    <tr>
     <td>
      onWindowVisibilityChanged
     </td>
     <td>
      onWindowVisibilityChangedCompat
     </td>
     <td>
      onWindowVisibilityChanged
     </td>
    </tr>
    <tr>
     <td>
      onDraw
     </td>
     <td>
      onDrawCompat
     </td>
     <td>
      onDraw
     </td>
    </tr>
    <tr>
     <td>
      onConfigurationChanged
     </td>
     <td>
      onConfigurationChangedCompat
     </td>
     <td>
      onConfigurationChanged
     </td>
    </tr>
    <tr>
     <td>
      onCreateInputConnection
     </td>
     <td>
      onCreateInputConnectionCompat
     </td>
     <td>
      onCreateInputConnection
     </td>
    </tr>
    <tr>
     <td>
      onVisibilityChanged
     </td>
     <td>
      onVisibilityChangedCompat
     </td>
     <td>
      onVisibilityChanged
     </td>
    </tr>
    <tr>
     <td>
      onWindowFocusChanged
     </td>
     <td>
      onWindowFocusChangedCompat
     </td>
     <td>
      onWindowFocusChanged
     </td>
    </tr>
    <tr>
     <td>
      onFocusChanged
     </td>
     <td>
      onFocusChangedCompat
     </td>
     <td>
      onFocusChanged
     </td>
    </tr>
    <tr>
     <td>
      onSizeChanged
     </td>
     <td>
      onSizeChangedCompat
     </td>
     <td>
      onSizeChanged
     </td>
    </tr>
    <tr>
     <td>
      onScrollChanged
     </td>
     <td>
      onScrollChangedCompat
     </td>
     <td>
      onScrollChanged
     </td>
    </tr>
    <tr>
     <td>
      dispatchKeyEvent
     </td>
     <td>
      dispatchKeyEventCompat
     </td>
     <td>
      dispatchKeyEvent
     </td>
    </tr>
    <tr>
     <td>
      dispatchDraw
     </td>
     <td>
      dispatchDrawCompat
     </td>
     <td>
      dispatchDraw
     </td>
    </tr>
    <tr>
     <td>
      onStartTemporaryDetach
     </td>
     <td>
      onStartTemporaryDetachCompat
     </td>
     <td>
      onStartTemporaryDetach
     </td>
    </tr>
    <tr>
     <td>
      onFinishTemporaryDetach
     </td>
     <td>
      onFinishTemporaryDetachCompat
     </td>
     <td>
      onFinishTemporaryDetach
     </td>
    </tr>
   </tbody>
  </table>
  <h5 id="_7">
   标准方法支持
  </h5>
  <p>
   由于SDK的WebView只是一个容器，部分API上容器无法做到覆盖重写，因此部分Api方法在使用时需要使用不同的入口才能得到正确的WebView属性行为，因此对部分Api做了合并入口的处理，同时Webview上大部分标准的方法也继续支持。
  </p>
  <p>
   举例：
  </p>
  <pre><code class="java">// 如果需要getScrollX方法获取滚动属性，如下调用即可

int scrollX = webview.getWebViewApi().getScrollX()
</code></pre>
  <p>
   不用关注是系统内核的WebView或者是v5内核的WebView，属性的获取行为在SDK Api上表现一致。
   <br/>
   标准方法的支持请参照下面的表格：
  </p>
  <table>
   <thead>
    <tr>
     <th>
      标准方法
     </th>
     <th>
      SDK WebView
     </th>
     <th>
      SDK Api
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      getScrollX
     </td>
     <td>
      不支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getScrollY
     </td>
     <td>
      不支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setHorizontalScrollbarOverlay
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setVerticalScrollbarOverlay
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      overlayHorizontalScrollbar
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      overlayVerticalScrollbar
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getCertificate
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setCertificate
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      savePassword
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setHttpAuthUsernamePassword
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getHttpAuthUsernamePassword
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getVisibleTitleHeight
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      destroy
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setNetworkAvailable
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      saveState
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      savePicture
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      restorePicture
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      restoreState
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      loadUrl
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      postUrl
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      loadData
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      loadDataWithBaseURL
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      evaluateJavascript
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      saveWebArchive
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      stopLoading
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      reload
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      canGoBack
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      goBack
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      canGoForward
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      goForward
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      canGoBackOrForward
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      goBackOrForward
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      isPrivateBrowsingEnabl
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      pageUp
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      pageDown
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      clearView
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      capturePicture
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getScale
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setInitialScale
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      invokeZoomPicker
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getHitTestResult
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      requestFocusNodeHref
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      requestImageRef
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getUrl
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getOriginalUrl
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getTitle
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getFavicon
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getTouchIconUrl
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getProgress
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getContentHeight
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getContentWidth
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      pauseTimers
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      resumeTimers
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      onPause
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      onResume
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      isPaused
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      freeMemory
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      clearCache
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      clearFormData
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      clearHistory
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      clearSslPreferences
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      copyBackForwardList
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setFindListener
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      findNext
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      findAll
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      findAllAsync
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      showFindDialog
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      clearMatches
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      documentHasImages
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setWebViewClient
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setDownloadListener
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setWebChromeClient
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setPictureListener
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      addJavascriptInterface
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      removeJavascriptInterface
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getSettings
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      emulateShiftHeld
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setMapTrackballToArrowKeys
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      flingScroll
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getZoomControls
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      canZoomIn
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      canZoomOut
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      zoomBy
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      zoomIn
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      zoomOut
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      debugDump
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getScrollX
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getScrollY
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      scrollTo
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      scrollBy
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setScrollBarStyle
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      getScrollBarStyle
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      requestFocus
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      requestChildRectangleOnScreen
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setLayoutParams
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setOverScrollMode
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setBackgroundColor
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
    <tr>
     <td>
      setLayerType
     </td>
     <td>
      支持
     </td>
     <td>
      支持
     </td>
    </tr>
   </tbody>
  </table>
  <h5 id="_8">
   扩展方法说明
  </h5>
  <p>
   SDK Webview同时提供了丰富的扩展接口，在使用系统内核时，这些扩展接口无法生效只是一个空实现；在使用v5内核时，这些扩展会在v5内核上生效，这些扩展能力通过Webview.getExtension获取
   <br/>
   具体支持的扩展方法说明请参照下面的表格：
  </p>
  <table>
   <thead>
    <tr>
     <th>
      扩展接口
     </th>
     <th>
      说明
     </th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td>
      getWebViewEx
     </td>
     <td>
      获取v5 Webview的扩展能力
     </td>
    </tr>
    <tr>
     <td>
      getWebVideoViewEx
     </td>
     <td>
      获取v5内核的视频扩展能力
     </td>
    </tr>
   </tbody>
  </table>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/highlight.min.js">
  </script>
  <script>
   hljs.initHighlightingOnLoad();
  </script>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript">
  </script>
  <script type="text/javascript">
   MathJax.Hub.Config({"showProcessingMessages" : false,"messageStyle" : "none","tex2jax": { inlineMath: [ [ "$", "$" ] ] }});
  </script>
 </body>
</html>